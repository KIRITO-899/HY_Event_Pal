{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useSearchParams}from'react-router-dom';import{useApp}from'../context/AppContext';import EventCard from'../components/EventCard';import SearchBar from'../components/SearchBar';import{StaggerContainer,StaggerItem}from'../components/AnimatedComponents';import'./Events.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Events=()=>{const{events:allEvents}=useApp();const[filteredEvents,setFilteredEvents]=useState([]);const[loading,setLoading]=useState(true);const[sortBy,setSortBy]=useState('date');const[searchParams]=useSearchParams();useEffect(()=>{// Simulate API call\nsetTimeout(()=>{setFilteredEvents(allEvents);setLoading(false);},1000);},[allEvents]);useEffect(()=>{// Apply initial filters from URL params\nconst searchTerm=searchParams.get('search')||'';const category=searchParams.get('category')||'';const location=searchParams.get('location')||'';if(searchTerm||category||location){handleSearch({searchTerm,category,location});}},[searchParams,allEvents]);const handleSearch=_ref=>{let{searchTerm='',category='',location=''}=_ref;let filtered=allEvents;if(searchTerm){filtered=filtered.filter(event=>event.title.toLowerCase().includes(searchTerm.toLowerCase())||event.description.toLowerCase().includes(searchTerm.toLowerCase())||event.tags&&event.tags.some(tag=>tag.toLowerCase().includes(searchTerm.toLowerCase())));}if(category){filtered=filtered.filter(event=>event.category.toLowerCase()===category.toLowerCase());}if(location){filtered=filtered.filter(event=>event.location.toLowerCase().includes(location.toLowerCase()));}setFilteredEvents(filtered);};const handleSort=criteria=>{setSortBy(criteria);const sorted=[...filteredEvents].sort((a,b)=>{switch(criteria){case'date':return new Date(a.date)-new Date(b.date);case'price':return a.price-b.price;case'popularity':return b.attendees-a.attendees;case'title':return a.title.localeCompare(b.title);default:return 0;}});setFilteredEvents(sorted);};const categories=[...new Set(allEvents.map(event=>event.category))];if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"events-page\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"loading\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"spinner\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Loading events...\"})]})})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"events-page\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"events-header\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Discover Events\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Find amazing events happening in your area\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"search-section\",children:/*#__PURE__*/_jsx(SearchBar,{onSearch:handleSearch,categories:categories})}),/*#__PURE__*/_jsxs(\"div\",{className:\"events-controls\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"results-info\",children:/*#__PURE__*/_jsxs(\"span\",{children:[filteredEvents.length,\" events found\"]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"sort-controls\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"sort\",children:\"Sort by:\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"sort\",value:sortBy,onChange:e=>handleSort(e.target.value),className:\"sort-select\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"date\",children:\"Date\"}),/*#__PURE__*/_jsx(\"option\",{value:\"popularity\",children:\"Popularity\"}),/*#__PURE__*/_jsx(\"option\",{value:\"price\",children:\"Price\"}),/*#__PURE__*/_jsx(\"option\",{value:\"title\",children:\"Title\"})]})]})]}),filteredEvents.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"no-events\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"no-events-icon\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-calendar-times\"})}),/*#__PURE__*/_jsx(\"h3\",{children:\"No events found\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Try adjusting your search criteria or browse all events\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setFilteredEvents(allEvents);window.history.pushState({},'','/events');},className:\"btn btn-primary\",children:\"Show All Events\"})]}):/*#__PURE__*/_jsx(StaggerContainer,{className:\"events-grid grid grid-cols-3\",children:filteredEvents.map((event,index)=>/*#__PURE__*/_jsx(StaggerItem,{children:/*#__PURE__*/_jsx(EventCard,{event:event})},event.id))}),filteredEvents.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"load-more\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary\",children:\"Load More Events\"})})]})]});};export default Events;","map":{"version":3,"names":["React","useState","useEffect","useSearchParams","useApp","EventCard","SearchBar","StaggerContainer","StaggerItem","jsx","_jsx","jsxs","_jsxs","Events","events","allEvents","filteredEvents","setFilteredEvents","loading","setLoading","sortBy","setSortBy","searchParams","setTimeout","searchTerm","get","category","location","handleSearch","_ref","filtered","filter","event","title","toLowerCase","includes","description","tags","some","tag","handleSort","criteria","sorted","sort","a","b","Date","date","price","attendees","localeCompare","categories","Set","map","className","children","onSearch","length","htmlFor","id","value","onChange","e","target","onClick","window","history","pushState","index"],"sources":["E:/WEB DEV/REACT/EventPal/src/pages/Events.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { useApp } from '../context/AppContext';\nimport EventCard from '../components/EventCard';\nimport SearchBar from '../components/SearchBar';\nimport { StaggerContainer, StaggerItem } from '../components/AnimatedComponents';\nimport './Events.css';\n\nconst Events = () => {\n  const { events: allEvents } = useApp();\n  const [filteredEvents, setFilteredEvents] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [sortBy, setSortBy] = useState('date');\n  const [searchParams] = useSearchParams();\n\n  useEffect(() => {\n    // Simulate API call\n    setTimeout(() => {\n      setFilteredEvents(allEvents);\n      setLoading(false);\n    }, 1000);\n  }, [allEvents]);\n\n  useEffect(() => {\n    // Apply initial filters from URL params\n    const searchTerm = searchParams.get('search') || '';\n    const category = searchParams.get('category') || '';\n    const location = searchParams.get('location') || '';\n\n    if (searchTerm || category || location) {\n      handleSearch({ searchTerm, category, location });\n    }\n  }, [searchParams, allEvents]);\n\n  const handleSearch = ({ searchTerm = '', category = '', location = '' }) => {\n    let filtered = allEvents;\n\n    if (searchTerm) {\n      filtered = filtered.filter(event =>\n        event.title.toLowerCase().includes(searchTerm.toLowerCase()) ||\n        event.description.toLowerCase().includes(searchTerm.toLowerCase()) ||\n        (event.tags && event.tags.some(tag => tag.toLowerCase().includes(searchTerm.toLowerCase())))\n      );\n    }\n\n    if (category) {\n      filtered = filtered.filter(event =>\n        event.category.toLowerCase() === category.toLowerCase()\n      );\n    }\n\n    if (location) {\n      filtered = filtered.filter(event =>\n        event.location.toLowerCase().includes(location.toLowerCase())\n      );\n    }\n\n    setFilteredEvents(filtered);\n  };\n\n  const handleSort = (criteria) => {\n    setSortBy(criteria);\n    const sorted = [...filteredEvents].sort((a, b) => {\n      switch (criteria) {\n        case 'date':\n          return new Date(a.date) - new Date(b.date);\n        case 'price':\n          return a.price - b.price;\n        case 'popularity':\n          return b.attendees - a.attendees;\n        case 'title':\n          return a.title.localeCompare(b.title);\n        default:\n          return 0;\n      }\n    });\n    setFilteredEvents(sorted);\n  };\n\n  const categories = [...new Set(allEvents.map(event => event.category))];\n\n  if (loading) {\n    return (\n      <div className=\"events-page\">\n        <div className=\"container\">\n          <div className=\"loading\">\n            <div className=\"spinner\"></div>\n            <p>Loading events...</p>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"events-page\">\n      <div className=\"events-header\">\n        <div className=\"container\">\n          <h1>Discover Events</h1>\n          <p>Find amazing events happening in your area</p>\n        </div>\n      </div>\n\n      <div className=\"container\">\n        <div className=\"search-section\">\n          <SearchBar \n            onSearch={handleSearch}\n            categories={categories}\n          />\n        </div>\n\n        <div className=\"events-controls\">\n          <div className=\"results-info\">\n            <span>{filteredEvents.length} events found</span>\n          </div>\n          \n          <div className=\"sort-controls\">\n            <label htmlFor=\"sort\">Sort by:</label>\n            <select \n              id=\"sort\"\n              value={sortBy}\n              onChange={(e) => handleSort(e.target.value)}\n              className=\"sort-select\"\n            >\n              <option value=\"date\">Date</option>\n              <option value=\"popularity\">Popularity</option>\n              <option value=\"price\">Price</option>\n              <option value=\"title\">Title</option>\n            </select>\n          </div>\n        </div>\n\n        {filteredEvents.length === 0 ? (\n          <div className=\"no-events\">\n            <div className=\"no-events-icon\">\n              <i className=\"fas fa-calendar-times\"></i>\n            </div>\n            <h3>No events found</h3>\n            <p>Try adjusting your search criteria or browse all events</p>\n            <button \n              onClick={() => {\n                setFilteredEvents(allEvents);\n                window.history.pushState({}, '', '/events');\n              }}\n              className=\"btn btn-primary\"\n            >\n              Show All Events\n            </button>\n          </div>\n        ) : (\n          <StaggerContainer className=\"events-grid grid grid-cols-3\">\n            {filteredEvents.map((event, index) => (\n              <StaggerItem key={event.id}>\n                <EventCard event={event} />\n              </StaggerItem>\n            ))}\n          </StaggerContainer>\n        )}\n\n        {filteredEvents.length > 0 && (\n          <div className=\"load-more\">\n            <button className=\"btn btn-secondary\">\n              Load More Events\n            </button>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Events;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}